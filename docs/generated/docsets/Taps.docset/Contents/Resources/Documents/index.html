<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Taps  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="Taps  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Taps Docs
        </a>
         (100% documented)
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/vknabel/Taps">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fvknabel%2Egithub%2Eio%2FTaps%2Fdocsets%2FTaps%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Taps Reference</a>
      <img class="carat" src="img/carat.png" />
      Taps  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="1-getting-started.html">1. Getting Started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="2-customizing-output.html">2. Customizing Output</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="index.html">index</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/RxTaps.html">RxTaps</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Taps.html">Taps</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Test.html">Test</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/TapsOutput.html">TapsOutput</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Observable.html">Observable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OfferingRxTaps.html">OfferingRxTaps</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OfferingTaps.html">OfferingTaps</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/OfferingTests.html">OfferingTests</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SourceLocation.html">SourceLocation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TapsHarness.html">TapsHarness</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TestCase.html">TestCase</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TestCount.html">TestCount</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TestPoint.html">TestPoint</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <a href='#taps' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='taps'>Taps</h1>

<p><img src="https://img.shields.io/badge/swift-3.0-orange.svg?style=flat-square" alt="Swift 3">
<a href="https://github.com/vknabel/taps/releases"><img src="https://img.shields.io/github/release/vknabel/taps.svg?style=flat-square" alt="GitHub release"></a>
<a href="https://github.com/apple/swift-package-manager"><img src="https://img.shields.io/badge/SwiftPM-compatible-brightgreen.svg?style=flat-square" alt="SwiftPM compatible"></a>
<img src="https://img.shields.io/badge/Platform-Linux%7CmacOS%7CiOS%7CtvOS%7CwatchOS-lightgrey.svg?style=flat-square" alt="Plaforms">
<img src="https://img.shields.io/circleci/project/github/vknabel/Taps.svg?style=flat-square" alt="Build Status">
<a href="https://raw.githubusercontent.com/vknabel/rock/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square" alt="GitHub license"></a></p>

<p>Taps is a lightweight Unit Test library optimized for asynchronous code.
It has been implemented using RxSwift and therefore you can easily test your own Observables with ease,
but no RxSwift knowledge is needed.</p>

<p>As the generated output is <a href="https://testanything.org/tap-version-13-specification.html">TAP13</a> compatible, you can easily customize it yourself.
You can either use Taps integrated TapsHarness or you can use the pod TestHarness to customize the output.</p>

<p>You&rsquo;ll find the autogenerated docs <a href="https://vknabel.github.io/Taps/generated">here</a>.</p>
<a href='#example' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='example'>Example</h2>

<p>Taps assumes all tests to be concurrent. That said it is quite easy to run them:</p>
<pre class="highlight swift"><code><span class="n">taps</span><span class="o">.</span><span class="nf">test</span><span class="p">(</span><span class="s">"test async completion"</span><span class="p">,</span> <span class="nv">timeout</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span> <span class="k">in</span>
  <span class="kt">DispatchQueue</span><span class="o">.</span><span class="nf">global</span><span class="p">()</span><span class="o">.</span><span class="n">async</span> <span class="p">{</span>
    <span class="n">t</span><span class="o">.</span><span class="nf">pass</span><span class="p">()</span>
    <span class="n">t</span><span class="o">.</span><span class="nf">end</span><span class="p">()</span> <span class="c1">// this terminates the test</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>But instead of always being forced to call the <code>t.end()</code> when testing synchronous code,
you can add a plan for all expected tests.</p>
<pre class="highlight swift"><code><span class="n">taps</span><span class="o">.</span><span class="nf">test</span><span class="p">(</span><span class="s">"test does not throw on return"</span><span class="p">,</span> <span class="nv">plan</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span> <span class="k">in</span>
  <span class="n">t</span><span class="o">.</span><span class="nf">doesThrow</span><span class="p">(</span><span class="s">"does throw is ok when throwing"</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">1</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Since Taps uses RxSwift under the hood it really shines, when it comes to testing <code>Observable</code>s.
If your tested <code>Observable</code> completes, the test will automatically be finished!</p>
<pre class="highlight swift"><code><span class="n">tape</span><span class="o">.</span><span class="nf">test</span><span class="p">(</span><span class="s">"just emits"</span><span class="p">,</span> <span class="nv">timeout</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span> <span class="k">in</span>
  <span class="kt">Observable</span><span class="o">.</span><span class="nf">just</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="nv">$0</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">}</span>
    <span class="o">.</span><span class="nf">test</span><span class="p">(</span>
      <span class="nv">onNext</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="nf">notEqual</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s">"just emits 3"</span><span class="p">),</span>
      <span class="nv">onError</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="nf">fail</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="s">"just won't throw'"</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">}</span>
</code></pre>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>Finite is available under the MIT license. See the LICENSE file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2017 <a class="link" href="https://twitter.com/vknabel" target="_blank" rel="external">Valentin Knabel</a>. All rights reserved. (Last updated: 2017-01-30)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
